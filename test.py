import re
import datetime
s = '01/05/2015||30/06/2015||||||10:00||12:00||14:00||18:00||10:00||12:00||14:00||18:00||10:00||12:00||14:00||18:00||10:00||12:00||14:00||18:00||10:00||12:00||14:00||18:00||10:00||12:00||14:00||18:00||||||||##01/09/2015||30/09/2015||||||10:00||12:00||14:00||18:00||10:00||12:00||14:00||18:00||10:00||12:00||14:00||18:00||10:00||12:00||14:00||18:00||10:00||12:00||14:00||18:00||10:00||12:00||14:00||18:00||||||||##01/07/2015||31/08/2015||||||10:00||13:00||14:00||18:00||10:00||13:00||14:00||18:00||10:00||13:00||14:00||18:00||10:00||13:00||14:00||18:00||10:00||13:00||14:00||18:00||10:00||13:00||14:00||18:00||10:00||13:00||||'


r = re.compile(r'(\d\d/\d\d/\d\d\d\d)\|\|(\d\d/\d\d/\d\d\d\d)\|\|\|\|\|\|(.+)')


def parseTimeTable(timeTable):

    timePeriods = []
    openingTimes = []
    splitPeriods = (x for x in timeTable.split('##'))
    for period in splitPeriods:
        temp = re.search(r, period)
        timePeriods.append((temp.group(1), temp.group(2)))
        openingTimes.append(temp.group(3).split('||'))

    return([timePeriods, openingTimes])


x = parseTimeTable(s)
print(x[1])
